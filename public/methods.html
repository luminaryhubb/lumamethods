<!doctype html>
<html lang="pt-BR">
<head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Methods - Luma</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-black text-white">
  <div class="min-h-screen flex items-center justify-center p-6">
    <div class="max-w-xl w-full text-center space-y-6">
      <img src="/admin/assets/LM.gif" class="mx-auto w-40 h-40 rounded-lg" alt="Luma">
      <h2 class="text-2xl">Bem-vindo(a), <span id="username" class="text-purple-400 font-bold">...</span></h2>
      <div class="flex justify-center space-x-4">
        <a href="/#"><button class="px-6 py-3 rounded-full bg-purple-600 hover:bg-purple-500">Luma Rebuilder</button></a>
        <a href="/#"><button class="px-6 py-3 rounded-full bg-purple-600 hover:bg-purple-500">Luma Shortner</button></a>
      </div>
      <div id="admin-area" class="mt-4"></div>
      <div class="mt-6"><a href="/auth/logout"><button class="px-4 py-2 bg-gray-700 rounded">Sair</button></a></div>
    </div>
  </div>
<script>
(async function(){
  try{
    const r = await fetch('/api/user', { credentials: 'include' });
    if(!r.ok) return window.location.href = '/';
    const user = await r.json();
    document.getElementById('username').textContent = user.username;
    const adminIDs = ['1411328138931077142','1066509829025300560','1420447434362060917'];
    if(adminIDs.includes(user.id)){
      document.getElementById('admin-area').innerHTML = '<a href="/admin/index.html"><button class="px-6 py-3 rounded-full bg-purple-600 hover:bg-purple-500">Admin</button></a>';
    }
  }catch(e){ window.location.href = '/'; }
})();
</script>
</body>
</html>
