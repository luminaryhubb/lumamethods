import React, {useEffect, useState} from 'react'
export default function Panel(){ const [cfg,setCfg]=useState(null); useEffect(()=>{ fetch('/api/admin/config').then(r=>r.json()).then(d=>setCfg(d)).catch(()=>{}) },[]); async function toggle(){ await fetch('/api/admin/config',{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({allowCreation:!cfg.allowCreation})}); const d = await (await fetch('/api/admin/config')).json(); setCfg(d) } if(!cfg) return null; return (<div><h3>Admin Panel</h3><div className='card' style={{marginTop:8}}><div>Allow creation: <strong>{cfg.allowCreation? 'Yes':'No'}</strong></div><div style={{marginTop:8}}><button className='nav-btn' style={{background:'var(--purple)'}} onClick={toggle}>{cfg.allowCreation? 'Disable':'Enable'}</button></div></div></div>) }
