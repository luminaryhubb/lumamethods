import React, {useEffect, useState} from 'react'
export default function Links(){ const [links,setLinks]=useState([]); useEffect(()=>{ fetch('/api/admin/links').then(r=>r.json()).then(d=>setLinks(d.links)).catch(()=>{}) },[]); async function del(id){ if(!confirm('Apagar?')) return; await fetch('/api/admin/link/'+id,{method:'DELETE'}); alert('apagado'); window.location.reload(); } return (<div><h3>Links Gerados</h3><div style={{marginTop:8}}>{links.map(l=>(<div key={l.id} className='card' style={{marginBottom:8}}><div style={{fontWeight:600}}>{l.id} • {l.network} • views: {l.views}</div><div style={{opacity:0.9}}>{l.output}</div><div style={{marginTop:8}}><button className='nav-btn' style={{background:'#ef4444'}} onClick={()=>del(l.id)}>Apagar</button></div></div>))}</div></div>) }
